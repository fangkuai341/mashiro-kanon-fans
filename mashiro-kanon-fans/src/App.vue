<script setup lang="ts">
import { reactive } from 'vue';
import Footer from './components/Footer.vue';
import NavBar from './components/NavBar.vue';
import type { Database } from './types';

// --- Data Store (ä¿æŒåœ¨é¡¶å±‚ï¼Œæˆ–ç§»è‡³ Pinia) ---
const db = reactive<Database>({

  quotes: [
    "å¤§å®¶æ™šä¸Šå¥½ï¼æˆ‘æ˜¯æ¸…æ¥šç³»(?)VTuberçœŸç™½èŠ±éŸ³ï¼",
    "è™½ç„¶æˆ‘ä¹Ÿæƒ³åƒè–¯ç‰‡ï¼Œä½†æ˜¯ä½œä¸ºå¶åƒä¸ºäº†å—“å­è¦å¿è€...",
    "ä»Šå¤©çš„æ­Œå£°ä¼ è¾¾åˆ°å¤§å®¶å¿ƒé‡Œäº†å—ï¼Ÿ",
    "è¯¶ï¼Ÿæˆ‘æ‰æ²¡æœ‰è¿·è·¯ï¼Œåªæ˜¯åœ¨æ¢ç´¢æ–°åœ°å›¾ï¼"
  ],
  timeline: [
    { year: "2020", date: "09/19", event: "åˆæ¬¡å‡ºé“ç›´æ’­ ğŸ¤", remark: "start" },
    { year: "2021", date: "05/20", event: "YouTube è®¢é˜…çªç ´ 5 ä¸‡", remark: "milestone" },
    { year: "2022", date: "12/24", event: "3D æ–°è¡£æŠ«éœ² & ç”Ÿæ—¥ Live", remark: "major" },
    { year: "2023", date: "08/15", event: "é¦–å¼ åŸåˆ›ä¸“è¾‘å‘å¸ƒ", remark: "release" },
    { year: "2024", date: "01/01", event: "æ–°å¹´å’ŒæœæŠ«éœ²", remark: "costume" }
  ],
  songs: [
    { id: 1, title: "Phony", artist: "Tsumiki", lastSung: "2024-03-15", link: "#" },
    { id: 2, title: "First Love", artist: "å®‡å¤šç”°å…‰", lastSung: "2024-02-14", link: "#" },
    { id: 3, title: "Betelgeuse", artist: "Yuuri", lastSung: "2024-01-20", link: "#" },
    { id: 4, title: "Idol", artist: "YOASOBI", lastSung: "2023-12-25", link: "#" },
    { id: 5, title: "å¯çˆ±çš„è¯å¯¹ä¸èµ·", artist: "HoneyWorks", lastSung: "2024-03-01", link: "#" },
    { id: 6, title: "God knows...", artist: "å‡‰å®«æ˜¥æ—¥", lastSung: "2023-11-11", link: "#" },
    { id: 7, title: "Marigold", artist: "Aimyon", lastSung: "2024-01-05", link: "#" },
    { id: 8, title: "Dry Flower", artist: "Yuuri", lastSung: "2023-10-10", link: "#" },
    { id: 9, title: "æ€ªç‰©", artist: "YOASOBI", lastSung: "2023-09-15", link: "#" }
  ],
  schedule: [
    { day: 1, type: "song" },
    { day: 3, type: "game" },
    { day: 5, type: "chat" },
    { day: 7, type: "collab" },
    { day: 10, type: "song" },
    { day: 12, type: "game" },
    { day: 14, type: "chat" }
  ]
});

const switchTab = (tab: string) => activeTab.value = tab;

</script>

<template>
  <div class="min-h-screen flex flex-col">
    <NavBar  @switch="switchTab" />

    <main class="max-w-6xl mx-auto px-4 py-6 flex-grow w-full">
      <!-- ä½¿ç”¨ v-if ç¡®ä¿ç»„ä»¶å¸è½½å’ŒæŒ‚è½½ï¼Œè§¦å‘ç”Ÿå‘½å‘¨æœŸä»¥é‡æ–°æ¸²æŸ“ Canvas å›¾è¡¨ -->
      <router-view />
      <!-- <DashboardView v-if="activeTab === 'dashboard'"
                     :news="db.news"
                     :quotes="db.quotes"
                     @navigate="switchTab" />

      <ProfileView v-if="activeTab === 'profile'"
                   :timeline="db.timeline" />

      <MusicView v-if="activeTab === 'music'"
                 :songs="db.songs" />

      <LiveView v-if="activeTab === 'live'"
                :schedule="db.schedule" />

      <CommunityView v-if="activeTab === 'community'" />

      <ShopView v-if="activeTab === 'shop'" /> -->
    </main>

    <Footer />
  </div>
</template>